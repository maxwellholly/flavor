{"ast":null,"code":"var _jsxFileName = \"/Users/hollymaxwell/Desktop/flavor/src/pages/RecipeSearch.js\";\nimport React, { Component } from 'react';\nimport Recipe from '../components/recipe/Recipe';\nimport Form from '../components/form/Form';\n\nclass RecipeSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleGetMeals = (diet, exclude) => {\n      this.setState({\n        requested: true,\n        loaded: false,\n        showForm: true\n      });\n      let api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/search?\";\n\n      if (diet.trim() !== \"\") {\n        api = api + \"&diet=\" + diet;\n      }\n\n      if (exclude.trim() !== \"\") {\n        api = api + \"&exclude=\" + exclude;\n      }\n\n      this.props.getMeals(api, function (response) {\n        console.log(response);\n        let api;\n\n        for (let i = 0; i < response.results.length; i++) {\n          api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/\" + response.results[i].id + \"/information\";\n          this.props.getMeals(api, function (details) {\n            response.results[i].vegetarian = details.vegetarian;\n            response.results[i].vegan = details.vegan;\n            response.results[i].glutenFree = details.glutenFree;\n            response.results[i].healthScore = details.healthScore;\n            response.results[i].servings = details.servings;\n            response.results[i].readyInMinutes = details.readyInMinutes;\n            response.results[i].image = details.image;\n          });\n        }\n\n        setTimeout(function () {\n          this.setState({\n            loaded: true,\n            requested: false,\n            recipes: response.results\n          });\n        }.bind(this), 3000);\n      }.bind(this));\n    };\n\n    this.toggleForm = () => {\n      this.setState({\n        showForm: false\n      });\n    };\n\n    this.styles = {\n      pageTitle: {\n        fontSize: '1.5rem',\n        marginTop: '100px',\n        marginBottom: '30px',\n        textAlign: 'center'\n      },\n      container: {\n        width: '90%',\n        height: '100%',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        position: 'relative'\n      },\n      recipes: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexFlow: 'row',\n        flexWrap: 'wrap',\n        justifyContent: 'space-between'\n      }\n    };\n    this.state = {\n      duration: \"day\",\n      recipes: [],\n      nutrition: [],\n      showForm: false,\n      requested: false\n    };\n  }\n\n  render() {\n    console.log(this.state.recipes);\n    let recipeList = this.state.recipes.map((element, i) => {\n      let diet;\n\n      if (element.vegetarian === true) {\n        diet = 'Vegetarian';\n      } else if (element.vegan === true) {\n        diet = 'Vegan';\n      } else if (element.glutenFree === true) {\n        diet = 'Gluten free';\n      } else {\n        diet = '';\n      }\n\n      return /*#__PURE__*/React.createElement(Recipe, {\n        key: i,\n        val: element,\n        diet: diet,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: this.styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: this.styles.pageTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Recipe Search\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"(all inputs are optional)\"), /*#__PURE__*/React.createElement(Form, {\n      formType: \"Get Recipes\",\n      handleGetMeals: this.handleGetMeals,\n      name: this.state.duration,\n      hide: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleForm,\n      hidden: !this.state.showForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"Show Form\"), this.state.loaded ? /*#__PURE__*/React.createElement(\"div\", {\n      style: this.styles.recipes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, recipeList) : this.state.requested ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, \"We're fetching delicious recipes for you!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://media.giphy.com/media/YoKaNSoTHog8Y3550r/giphy.gif\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }))) : null);\n  }\n\n}\n\nexport default RecipeSearch;","map":{"version":3,"sources":["/Users/hollymaxwell/Desktop/flavor/src/pages/RecipeSearch.js"],"names":["React","Component","Recipe","Form","RecipeSearch","constructor","props","handleGetMeals","diet","exclude","setState","requested","loaded","showForm","api","trim","getMeals","response","console","log","i","results","length","id","details","vegetarian","vegan","glutenFree","healthScore","servings","readyInMinutes","image","setTimeout","recipes","bind","toggleForm","styles","pageTitle","fontSize","marginTop","marginBottom","textAlign","container","width","height","marginLeft","marginRight","position","display","flexFlow","flexWrap","justifyContent","state","duration","nutrition","render","recipeList","map","element"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Recipe from '../components/recipe/Recipe'\nimport Form from '../components/form/Form'\n\nclass RecipeSearch extends Component {\n    constructor(props){\n        super(props);\n        this.styles = {\n            pageTitle: {\n                fontSize: '1.5rem',\n                marginTop: '100px',\n                marginBottom: '30px',\n                textAlign: 'center'\n            },\n            container: {\n                width: '90%',\n                height: '100%',\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                position: 'relative'\n            },\n            recipes: {\n                width: '100%',\n                height: '100%',\n                display: 'flex',\n                flexFlow: 'row',\n                flexWrap: 'wrap',\n                justifyContent: 'space-between'\n            }\n        };\n        this.state = {\n            duration: \"day\",\n            recipes: [],\n            nutrition: [],\n            showForm: false,\n            requested: false\n        }\n    }\n\n    handleGetMeals = (diet, exclude) => {\n        this.setState({requested: true, loaded: false, showForm: true});\n        let api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/search?\";\n\n        if(diet.trim() !== \"\") {\n            api = api + \"&diet=\" + diet;\n        }\n\n        if(exclude.trim() !== \"\") {\n            api = api + \"&exclude=\" + exclude;\n        }\n\n        this.props.getMeals(api, function(response){\n            console.log(response)\n            let api;\n            for(let i = 0; i < response.results.length; i++) {\n                api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/\" + response.results[i].id + \"/information\";\n                this.props.getMeals(api, function(details) {\n                    response.results[i].vegetarian = details.vegetarian;\n                    response.results[i].vegan = details.vegan;\n                    response.results[i].glutenFree = details.glutenFree;\n                    response.results[i].healthScore = details.healthScore;\n                    response.results[i].servings = details.servings;\n                    response.results[i].readyInMinutes = details.readyInMinutes;\n                    response.results[i].image = details.image;\n                })\n            }\n            setTimeout(function() {\n                this.setState({loaded: true, requested: false, recipes: response.results});\n            }.bind(this), 3000);\n        }.bind(this));\n    };\n\n    toggleForm = () => {\n        this.setState({showForm: false})\n    };\n\n    render() {\n        console.log(this.state.recipes);\n        let recipeList  = this.state.recipes.map((element, i) => {\n            let diet;\n            if(element.vegetarian === true) {\n                diet = 'Vegetarian'\n            } else if(element.vegan === true) {\n                diet = 'Vegan'\n            } else if(element.glutenFree === true) {\n                diet = 'Gluten free'\n            } else {\n                diet = ''\n            }\n            return <Recipe key={i} val={element} diet={diet}/>\n        });\n        return (\n            <div style={this.styles.container}>\n                <h2 style={this.styles.pageTitle}>Recipe Search</h2>\n                <h3>(all inputs are optional)</h3>\n\n                <Form formType=\"Get Recipes\" handleGetMeals={this.handleGetMeals} name={this.state.duration} hide={true}/>\n                <button onClick={this.toggleForm} hidden={!this.state.showForm}>Show Form</button>\n                {this.state.loaded ?\n                    <div style={this.styles.recipes}>\n                        {recipeList}\n                    </div>\n                    : this.state.requested ?\n                        <div>\n                            <h3>We're fetching delicious recipes for you!</h3>\n                            <div>\n                                <img src=\"https://media.giphy.com/media/YoKaNSoTHog8Y3550r/giphy.gif\"/>\n                            </div>\n                        </div>\n                        : null}\n            </div>\n\n        );\n    }\n}\n\nexport default RecipeSearch;"]},"metadata":{},"sourceType":"module"}