{"ast":null,"code":"import _classCallCheck from\"/Users/hollymaxwell/Desktop/flavor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hollymaxwell/Desktop/flavor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/hollymaxwell/Desktop/flavor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/hollymaxwell/Desktop/flavor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hollymaxwell/Desktop/flavor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Recipe from'../components/recipe/Recipe';import Form from'../components/form/Form';var RecipeSearch=/*#__PURE__*/function(_Component){_inherits(RecipeSearch,_Component);var _super=_createSuper(RecipeSearch);function RecipeSearch(props){var _this;_classCallCheck(this,RecipeSearch);_this=_super.call(this,props);_this.handleGetMeals=function(diet,exclude){_this.setState({requested:true,loaded:false,showForm:true});var api=\"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/search?\";if(diet.trim()!==\"\"){api=api+\"&diet=\"+diet;}if(exclude.trim()!==\"\"){api=api+\"&exclude=\"+exclude;}_this.props.getMeals(api,function(response){var _this2=this;console.log(response);var api;var _loop=function _loop(i){api=\"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/\"+response.results[i].id+\"/information\";_this2.props.getMeals(api,function(details){response.results[i].vegetarian=details.vegetarian;response.results[i].vegan=details.vegan;response.results[i].glutenFree=details.glutenFree;response.results[i].healthScore=details.healthScore;response.results[i].servings=details.servings;response.results[i].readyInMinutes=details.readyInMinutes;response.results[i].image=details.image;});};for(var i=0;i<response.results.length;i++){_loop(i);}setTimeout(function(){this.setState({loaded:true,requested:false,recipes:response.results});}.bind(this),3000);}.bind(_assertThisInitialized(_this)));};_this.toggleForm=function(){_this.setState({showForm:false});};_this.styles={pageTitle:{fontSize:'1.5rem',marginTop:'100px',marginBottom:'30px',textAlign:'center'},container:{width:'90%',height:'100%',marginLeft:'auto',marginRight:'auto',position:'relative'},recipes:{width:'100%',height:'100%',display:'flex',flexFlow:'row',flexWrap:'wrap',justifyContent:'space-between'}};_this.state={duration:\"day\",recipes:[],nutrition:[],showForm:false,requested:false};return _this;}_createClass(RecipeSearch,[{key:\"render\",value:function render(){console.log(this.state.recipes);var recipeList=this.state.recipes.map(function(element,i){var diet;if(element.vegetarian===true){diet='Vegetarian';}else if(element.vegan===true){diet='Vegan';}else if(element.glutenFree===true){diet='Gluten free';}else{diet='';}return/*#__PURE__*/React.createElement(Recipe,{key:i,val:element,diet:diet});});return/*#__PURE__*/React.createElement(\"div\",{style:this.styles.container},/*#__PURE__*/React.createElement(\"h2\",{style:this.styles.pageTitle},\"Recipe Search\"),/*#__PURE__*/React.createElement(\"h3\",null,\"(all inputs are optional)\"),/*#__PURE__*/React.createElement(Form,{formType:\"Get Recipes\",handleGetMeals:this.handleGetMeals,name:this.state.duration,hide:true,hidden:this.state.showForm}),/*#__PURE__*/React.createElement(\"button\",{className:\"formToggle\",onClick:this.toggleForm,hidden:!this.state.showForm},\"Show Form\"),this.state.loaded?/*#__PURE__*/React.createElement(\"div\",{style:this.styles.recipes},recipeList):this.state.requested?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"We're fetching delicious recipes for you!\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"https://media.giphy.com/media/YoKaNSoTHog8Y3550r/giphy.gif\"}))):null);}}]);return RecipeSearch;}(Component);export default RecipeSearch;","map":{"version":3,"sources":["/Users/hollymaxwell/Desktop/flavor/src/pages/RecipeSearch.js"],"names":["React","Component","Recipe","Form","RecipeSearch","props","handleGetMeals","diet","exclude","setState","requested","loaded","showForm","api","trim","getMeals","response","console","log","i","results","id","details","vegetarian","vegan","glutenFree","healthScore","servings","readyInMinutes","image","length","setTimeout","recipes","bind","toggleForm","styles","pageTitle","fontSize","marginTop","marginBottom","textAlign","container","width","height","marginLeft","marginRight","position","display","flexFlow","flexWrap","justifyContent","state","duration","nutrition","recipeList","map","element"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Recipe from '../components/recipe/Recipe'\nimport Form from '../components/form/Form'\n\nclass RecipeSearch extends Component {\n    constructor(props){\n        super(props);\n        this.styles = {\n            pageTitle: {\n                fontSize: '1.5rem',\n                marginTop: '100px',\n                marginBottom: '30px',\n                textAlign: 'center'\n            },\n            container: {\n                width: '90%',\n                height: '100%',\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                position: 'relative'\n            },\n            recipes: {\n                width: '100%',\n                height: '100%',\n                display: 'flex',\n                flexFlow: 'row',\n                flexWrap: 'wrap',\n                justifyContent: 'space-between'\n            }\n        };\n        this.state = {\n            duration: \"day\",\n            recipes: [],\n            nutrition: [],\n            showForm: false,\n            requested: false\n        }\n    }\n\n    handleGetMeals = (diet, exclude) => {\n        this.setState({requested: true, loaded: false, showForm: true});\n        let api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/search?\";\n\n        if(diet.trim() !== \"\") {\n            api = api + \"&diet=\" + diet;\n        }\n\n        if(exclude.trim() !== \"\") {\n            api = api + \"&exclude=\" + exclude;\n        }\n\n        this.props.getMeals(api, function(response){\n            console.log(response)\n            let api;\n            for(let i = 0; i < response.results.length; i++) {\n                api = \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/\" + response.results[i].id + \"/information\";\n                this.props.getMeals(api, function(details) {\n                    response.results[i].vegetarian = details.vegetarian;\n                    response.results[i].vegan = details.vegan;\n                    response.results[i].glutenFree = details.glutenFree;\n                    response.results[i].healthScore = details.healthScore;\n                    response.results[i].servings = details.servings;\n                    response.results[i].readyInMinutes = details.readyInMinutes;\n                    response.results[i].image = details.image;\n                })\n            }\n            setTimeout(function() {\n                this.setState({loaded: true, requested: false, recipes: response.results});\n            }.bind(this), 3000);\n        }.bind(this));\n    };\n\n    toggleForm = () => {\n        this.setState({showForm: false})\n    };\n\n    render() {\n        console.log(this.state.recipes);\n        let recipeList  = this.state.recipes.map((element, i) => {\n            let diet;\n            if(element.vegetarian === true) {\n                diet = 'Vegetarian'\n            } else if(element.vegan === true) {\n                diet = 'Vegan'\n            } else if(element.glutenFree === true) {\n                diet = 'Gluten free'\n            } else {\n                diet = ''\n            }\n            return <Recipe key={i} val={element} diet={diet}/>\n        });\n        return (\n            <div style={this.styles.container}>\n                <h2 style={this.styles.pageTitle}>Recipe Search</h2>\n                <h3>(all inputs are optional)</h3>\n\n                <Form formType=\"Get Recipes\" handleGetMeals={this.handleGetMeals} name={this.state.duration} hide={true} hidden={this.state.showForm}/>\n                <button className=\"formToggle\" onClick={this.toggleForm} hidden={!this.state.showForm}>Show Form</button>\n                {this.state.loaded ?\n                    <div style={this.styles.recipes}>\n                        {recipeList}\n                    </div>\n                    : this.state.requested ?\n                        <div>\n                            <h3>We're fetching delicious recipes for you!</h3>\n                            <div>\n                                <img src=\"https://media.giphy.com/media/YoKaNSoTHog8Y3550r/giphy.gif\"/>\n                            </div>\n                        </div>\n                        : null}\n            </div>\n\n        );\n    }\n}\n\nexport default RecipeSearch;"]},"metadata":{},"sourceType":"module"}